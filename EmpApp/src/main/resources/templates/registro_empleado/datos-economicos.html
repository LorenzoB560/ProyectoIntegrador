<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Datos económicos</title>
  <link rel="stylesheet" href="/css/registro-empleado-estilos.css">
  <script src="/js/modificarCampos.js"></script>
</head>
<body id="body-economicos">

<a href="/datos-personales" id="datos-personales">
  <img src="/img/Paso1.png" alt="Paso 1">
</a>
<a href="/datos-contacto" id="datos-contacto">
  <img src="/img/Paso2.png" alt="Paso 2">
</a>
<a href="/datos-profesionales" id="datos-profesionales">
  <img src="/img/Paso3.png" alt="Paso 3">
</a>
<a href="/datos-economicos" id="datos-economicos">
  <img src="/img/Paso4.png" alt="Paso 4">
</a>
<a href="/resumen" id="resumen">
  <img src="/img/Resumen.png" alt="Resumen">
</a>

<h2 th:text="*{mensajeNOK}" class="error"></h2>

<form action="/guardar-datos-economicos" method="POST" th:object="${datos}" enctype="multipart/form-data" id="formulario">

  <fieldset>
    <legend th:text="#{registro.datosEconomicos}"></legend>
    <!-- Entidad Bancaria -->
    <label for="idEntidadBancaria" th:text="#{registro.entidadBancaria}"></label>
    <select id="idEntidadBancaria" th:field="*{cuentaBancaria.idEntidadBancaria}">
      <option th:each="entidad: ${listaEntidadesBancarias}"
              th:value="${entidad.id}"
              th:text="#{'registro.entidadBancaria.' + ${entidad.codigo}}"></option>
    </select>
    <div th:each="error: ${#fields.errors('cuentaBancaria.idEntidadBancaria')}" th:text="${error}" class="error"></div> <br>

    <!-- IBAN-->

    <!-- Código del pais -->
    <label for="codigoPais" th:text="#{registro.codigoPais}"></label>
    <input type="text" th:field="*{cuentaBancaria.codigoPais}" id="codigoPais">
    <div th:each="error: ${#fields.errors('cuentaBancaria.codigoPais')}" th:text="${error}" class="error"></div>

    <!-- Digitos de control -->
    <label for="digitosControl" th:text="#{registro.digitosControl}"></label>
    <input type="text" th:field="*{cuentaBancaria.digitosControl}" id="digitosControl">
    <div th:each="error: ${#fields.errors('cuentaBancaria.digitosControl')}" th:text="${error}" class="error"></div>

    <!-- Código de la entidad bancaria -->
    <label for="codigoEntidadBancaria" th:text="#{registro.codigoEntidadBancaria}"></label>
    <input type="text" th:field="*{cuentaBancaria.codigoEntidadBancaria}" id="codigoEntidadBancaria">
    <div th:each="error: ${#fields.errors('cuentaBancaria.codigoEntidadBancaria')}" th:text="${error}" class="error"></div>

    <!--Sucursal -->
    <label for="sucursal" th:text="#{registro.sucursal}"></label>
    <input type="text" th:field="*{cuentaBancaria.sucursal}" id="sucursal">
    <div th:each="error: ${#fields.errors('cuentaBancaria.sucursal')}" th:text="${error}" class="error"></div>

    <!--Número de cuenta -->
    <label for="numeroCuenta" th:text="#{registro.numeroCuenta}"></label>
    <input type="text" th:field="*{cuentaBancaria.numeroCuenta}" id="numeroCuenta">
    <div th:each="error: ${#fields.errors('cuentaBancaria.numeroCuenta')}" th:text="${error}" class="error"></div>
    <br> <br>

    <div th:each="error: ${#fields.errors('cuentaBancaria')}" th:text="${error}" class="error"></div>

    <!-- Salario -->
    <label for="salario" th:text="#{registro.salario}"></label>
    <input type="text" th:field="*{salario}" id="salario">
    <div th:each="error: ${#fields.errors('salario')}" th:text="${error}" class="error"></div>
    <br> <br>

    <!-- Comisión -->
    <label for="comision" th:text="#{registro.comision}"></label>
    <input type="text" th:field="*{comision}" id="comision">
    <div th:each="error: ${#fields.errors('comision')}" th:text="${error}" class="error"></div>
    <br> <br>
  </fieldset>

  <fieldset>
    <legend th:text="#{registro.tarjetaCredito}"></legend>

    <!-- Tipo de tarjeta de crédito -->
    <label for="idTipoTarjeta" th:text="#{registro.tipoTarjeta}"></label>
    <select id="idTipoTarjeta" th:field="*{idTipoTarjeta}">
      <option th:each="tarjeta: ${listaTipoTarjetas}"
              th:value="${tarjeta.id}"
              th:text="${tarjeta.tipoTarjetaCredito}"></option>
    </select>
    <div th:each="error: ${#fields.errors('idTipoTarjeta')}" th:text="${error}" class="error"></div>
    <br> <br>

    <!-- Número de la tarjeta de crédito -->
    <label for="numeroTarjeta" th:text="#{registro.numeroTarjeta}"></label>
    <input type="text" th:field="*{tarjetaCredito.numero}" id="numeroTarjeta">
    <div th:each="error: ${#fields.errors('tarjetaCredito.numero')}" th:text="${error}" class="error"></div>
    <br> <br>


    <!-- Mes de caducidad -->
    <label for="mesCaducidad" th:text="#{registro.mesCaducidad}"></label>
    <select id="mesCaducidad" th:field="*{tarjetaCredito.mesCaducidad}">
      <option th:each="mes : ${meses}" th:value="${mes}" th:text="${mes}"></option>
    </select>
    <div th:each="error: ${#fields.errors('tarjetaCredito.mesCaducidad')}" th:text="${error}" class="error"></div>

    <!-- Año de caducidad -->
    <label for="anioCaducidad" th:text="#{registro.anioCaducidad}"></label>
    <select id="anioCaducidad" th:field="*{tarjetaCredito.anioCaducidad}">
      <option th:each="anio : ${anios}" th:value="${anio}" th:text="${anio}"></option>
    </select>
    <div th:each="error: ${#fields.errors('tarjetaCredito.anioCaducidad')}" th:text="${error}" class="error"></div>

    <!-- CVC -->
    <label for="cvc" th:text="#{registro.cvc}"></label>
    <input type="text" th:field="*{tarjetaCredito.cvc}" id="cvc">
    <div th:each="error: ${#fields.errors('tarjetaCredito.cvc')}" th:text="${error}" class="error"></div>
    <div class="error" th:each="error : ${#fields.globalErrors()}" th:text="${error}"></div>
    <br> <br>
  </fieldset>

  <button type="submit" th:text="#{registro.datosEconomicos.submit}"></button>
  <input type="button" th:value="#{registro.vaciar}"  onclick="vaciarCampos()">
</form>
</body>
</html>