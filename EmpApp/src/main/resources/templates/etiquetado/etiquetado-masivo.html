<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Etiquetado Masivo de Empleados</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!--CSS para los fragmentos    -->
    <link rel="stylesheet" th:href="@{/css/estilos-generales.css}">
    <style>
        /* Estilos para los selectores múltiples y botones */
        .select-container {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        .select-box select[multiple] {
            height: 200px; /* Ajusta la altura según necesites */
            min-width: 200px;
        }
        .select-buttons {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        .select-buttons button {
            width: 50px; /* Ancho fijo para botones */
        }
        .error-message {
            color: red;
            font-weight: bold;
            margin-top: 10px;
        }
        .success-message {
            color: green;
            font-weight: bold;
            margin-top: 10px;
        }
    </style>
</head>
<body th:object="${dto}">
<div th:replace="fragmentos/header :: header"></div>
<div th:replace="fragmentos/nav :: nav"></div>
<div class="container mt-4">
    <h1>Etiquetado Masivo de Empleados</h1>
    <p>Selecciona los empleados y las etiquetas que deseas asignar.</p>

    <div id="feedback" style="display: none;"></div>

    <div class="select-container">
        <div class="select-box">
            <label for="empleadosDisponibles" class="form-label">Empleados Disponibles (Subordinados)</label>
            <select multiple class="form-select" id="empleadosDisponibles" name="empleadosDisponibles">
            </select>
            <small class="form-text text-muted">Elije uno o más empleados.</small>
        </div>

        <div class="select-buttons">
            <button type="button" class="btn btn-outline-secondary" onclick="moverOpciones('empleadosDisponibles', 'empleadosSeleccionados', false)">&gt;</button>
            <button type="button" class="btn btn-outline-secondary" onclick="moverOpciones('empleadosDisponibles', 'empleadosSeleccionados', true)">&gt;&gt;</button>
            <button type="button" class="btn btn-outline-secondary" onclick="moverOpciones('empleadosSeleccionados', 'empleadosDisponibles', false)">&lt;</button>
            <button type="button" class="btn btn-outline-secondary" onclick="moverOpciones('empleadosSeleccionados', 'empleadosDisponibles', true)">&lt;&lt;</button>
        </div>

        <div class="select-box">
            <label for="empleadosSeleccionados" class="form-label">Empleados Seleccionados</label>
            <select multiple class="form-select" id="empleadosSeleccionados" name="empleadosSeleccionados">
            </select>
        </div>
    </div>

    <div class="select-container">
        <div class="select-box">
            <label for="etiquetasDisponibles" class="form-label">Etiquetas Disponibles (Creadas por ti)</label>
            <select multiple class="form-select" id="etiquetasDisponibles" name="etiquetasDisponibles">
            </select>
            <small class="form-text text-muted">Elije una o más etiquetas.</small>
        </div>

        <div class="select-buttons">
            <button type="button" class="btn btn-outline-secondary" onclick="moverOpciones('etiquetasDisponibles', 'etiquetasSeleccionadas', false)">&gt;</button>
            <button type="button" class="btn btn-outline-secondary" onclick="moverOpciones('etiquetasDisponibles', 'etiquetasSeleccionadas', true)">&gt;&gt;</button>
            <button type="button" class="btn btn-outline-secondary" onclick="moverOpciones('etiquetasSeleccionadas', 'etiquetasDisponibles', false)">&lt;</button>
            <button type="button" class="btn btn-outline-secondary" onclick="moverOpciones('etiquetasSeleccionadas', 'etiquetasDisponibles', true)">&lt;&lt;</button>
        </div>

        <div class="select-box">
            <label for="etiquetasSeleccionadas" class="form-label">Etiquetas Seleccionadas</label>
            <select multiple class="form-select" id="etiquetasSeleccionadas" name="etiquetasSeleccionadas">
            </select>
        </div>
    </div>

    <div class="mt-3">
        <button type="button" class="btn btn-secondary" onclick="resetearFormulario()">Resetear</button>
        <button type="button" class="btn btn-primary" id="btnEnviarEtiquetado">Enviar</button>
    </div>

</div>
<div th:replace="fragmentos/footer :: footer"></div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script th:inline="javascript">
    /*<![CDATA[*/
    const jefeId = /*[[${jefeId}]]*/ 'default-jefe-id'; // Obtener el ID del jefe del modelo
    /*]]>*/
</script>
<script th:src="@{/js/etiquetado-masivo.js}"></script>
</body>
</html>